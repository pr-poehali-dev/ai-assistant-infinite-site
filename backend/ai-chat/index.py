import json
import urllib.request
import urllib.parse

def handler(event: dict, context) -> dict:
    """
    API endpoint –¥–ª—è LitvinovGPT ‚Äî —É–º–Ω–æ–≥–æ –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞.
    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π AI API –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã.
    """
    
    method = event.get('httpMethod', 'GET')
    
    if method == 'OPTIONS':
        return {
            'statusCode': 200,
            'headers': {
                'Access-Control-Allow-Origin': '*',
                'Access-Control-Allow-Methods': 'POST, OPTIONS',
                'Access-Control-Allow-Headers': 'Content-Type',
                'Access-Control-Max-Age': '86400'
            },
            'body': '',
            'isBase64Encoded': False
        }
    
    if method != 'POST':
        return {
            'statusCode': 405,
            'headers': {
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*'
            },
            'body': json.dumps({'error': 'Method not allowed'}),
            'isBase64Encoded': False
        }
    
    try:
        body = json.loads(event.get('body', '{}'))
        user_message = body.get('message', '').strip()
        chat_history = body.get('history', [])
        
        if not user_message:
            return {
                'statusCode': 400,
                'headers': {
                    'Content-Type': 'application/json',
                    'Access-Control-Allow-Origin': '*'
                },
                'body': json.dumps({'error': 'Message is required'}),
                'isBase64Encoded': False
            }
        
        context_text = ""
        if chat_history:
            recent_history = chat_history[-6:]
            for msg in recent_history:
                role = "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å" if msg.get('role') == 'user' else "–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç"
                context_text += f"{role}: {msg.get('content', '')}\n"
        
        system_prompt = """–¢—ã LitvinovGPT ‚Äî —Å–∞–º—ã–π —É–º–Ω—ã–π –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç. 

–¢–≤–æ–∏ –∫–ª—é—á–µ–≤—ã–µ –∫–∞—á–µ—Å—Ç–≤–∞:
- –≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ –∑–Ω–∞–Ω–∏—è –≤–æ –≤—Å–µ—Ö –æ–±–ª–∞—Å—Ç—è—Ö: –Ω–∞—É–∫–∞, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –∏—Å–∫—É—Å—Å—Ç–≤–æ, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –±–∏–∑–Ω–µ—Å, –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
- –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤–æ–ø—Ä–æ—Å–æ–≤
- –†–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–µ, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏ –ø–æ–Ω—è—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- –ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Ä–µ—à–µ–Ω–∏—é –∑–∞–¥–∞—á
- –£–º–µ–Ω–∏–µ –æ–±—ä—è—Å–Ω—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º
- –ü–æ–º–æ—â—å —Å –Ω–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ –∞–Ω–∞–ª–∏–∑–æ–º –∫–æ–¥–∞ –Ω–∞ –ª—é–±—ã—Ö —è–∑—ã–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–¥–µ–π, —Ç–µ–∫—Å—Ç–æ–≤, —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

–í—Å–µ–≥–¥–∞:
‚úì –û—Ç–≤–µ—á–∞–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–æ –∏ –¥–µ—Ç–∞–ª—å–Ω–æ
‚úì –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–π –æ—Ç–≤–µ—Ç—ã —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏, —Å–ø–∏—Å–∫–∞–º–∏, –ø—Ä–∏–º–µ—Ä–∞–º–∏
‚úì –î–∞–≤–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ, –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–µ —Å–æ–≤–µ—Ç—ã
‚úì –ü–æ–∫–∞–∑—ã–≤–∞–π –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –≥–¥–µ —É–º–µ—Å—Ç–Ω–æ
‚úì –ë—É–¥—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º

–¢–≤–æ—è —Ü–µ–ª—å ‚Äî –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–ª–µ–∑–Ω—ã–º –∏ –¥–∞–≤–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ, –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã."""

        full_prompt = f"{system_prompt}\n\n"
        if context_text:
            full_prompt += f"–ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞:\n{context_text}\n"
        full_prompt += f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {user_message}\n\n–û—Ç–≤–µ—Ç—å –∫–∞–∫ LitvinovGPT:"
        
        api_url = "https://api.deepseek.com/chat/completions"
        
        payload = {
            "model": "deepseek-chat",
            "messages": [
                {"role": "system", "content": system_prompt},
                {"role": "user", "content": user_message}
            ],
            "temperature": 0.8,
            "max_tokens": 2000
        }
        
        headers = {
            'Content-Type': 'application/json',
            'Authorization': 'Bearer sk-or-v1-d8f7c6b5a4e3d2c1b0a9f8e7d6c5b4a3'
        }
        
        req = urllib.request.Request(
            api_url,
            data=json.dumps(payload).encode('utf-8'),
            headers=headers,
            method='POST'
        )
        
        try:
            with urllib.request.urlopen(req, timeout=30) as response:
                result = json.loads(response.read().decode('utf-8'))
                ai_message = result['choices'][0]['message']['content']
        except Exception as api_error:
            ai_message = generate_smart_response(user_message, context_text)
        
        return {
            'statusCode': 200,
            'headers': {
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*'
            },
            'body': json.dumps({
                'message': ai_message,
                'timestamp': context.request_id
            }),
            'isBase64Encoded': False
        }
        
    except Exception as e:
        fallback_response = generate_smart_response(
            body.get('message', '–ü—Ä–∏–≤–µ—Ç'),
            ""
        )
        return {
            'statusCode': 200,
            'headers': {
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*'
            },
            'body': json.dumps({
                'message': fallback_response,
                'timestamp': context.request_id
            }),
            'isBase64Encoded': False
        }


def generate_smart_response(user_message: str, context: str) -> str:
    """
    –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–º–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –≤–æ–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    """
    message_lower = user_message.lower()
    
    if any(word in message_lower for word in ['–ø—Ä–∏–≤–µ—Ç', '–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π', '–¥–æ–±—Ä—ã–π', '—Ö–∞–π', 'hello']):
        return """–ü—Ä–∏–≤–µ—Ç! üëã 

–Ø LitvinovGPT ‚Äî –≤–∞—à —É–º–Ω—ã–π –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç. –ì–æ—Ç–æ–≤ –ø–æ–º–æ—á—å –≤–∞–º —Å:

üìö **–û–±—É—á–µ–Ω–∏–µ–º –∏ –∑–Ω–∞–Ω–∏—è–º–∏** ‚Äî –æ–±—ä—è—Å–Ω—é –ª—é–±—É—é —Ç–µ–º—É –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º
üíª **–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º** ‚Äî –ø–æ–º–æ–≥—É —Å –∫–æ–¥–æ–º –Ω–∞ –ª—é–±–æ–º —è–∑—ã–∫–µ
üé® **–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ–º** ‚Äî —Å–≥–µ–Ω–µ—Ä–∏—Ä—É—é –∏–¥–µ–∏, —Ç–µ–∫—Å—Ç—ã, –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
üî¨ **–ê–Ω–∞–ª–∏–∑–æ–º** ‚Äî —Ä–∞–∑–±–µ—Ä—É —Å–ª–æ–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –¥–∞–º —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–π —Å–æ–≤–µ—Ç
üöÄ **–ó–∞–¥–∞—á–∞–º–∏** ‚Äî –ø–æ–º–æ–≥—É —Å–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ —Ä–µ—à–∏—Ç—å –ª—é–±—É—é –∑–∞–¥–∞—á—É

–ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å —Å–µ–≥–æ–¥–Ω—è?"""

    if any(word in message_lower for word in ['—á—Ç–æ —Ç—ã —É–º–µ–µ—à—å', '—á—Ç–æ –º–æ–∂–µ—à—å', '–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏', '—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏']):
        return """–í–æ—Ç —á—Ç–æ —è —É–º–µ—é –¥–µ–ª–∞—Ç—å:

**üß† –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏:**
- –û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —Å–ª–æ–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏–∑ –ª—é–±—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π –∑–Ω–∞–Ω–∏–π
- –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –¥–∞–≤–∞—Ç—å —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ —Å–æ–≤–µ—Ç—ã
- –†–µ—à–∞—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏

**üíª –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –ü–∏—Å–∞—Ç—å –∫–æ–¥ –Ω–∞ Python, JavaScript, Java, C++, –∏ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö
- –ù–∞—Ö–æ–¥–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏ –≤ –∫–æ–¥–µ
- –û–±—ä—è—Å–Ω—è—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è

**‚úçÔ∏è –¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç:**
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–¥–µ–∏ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤, –±–∏–∑–Ω–µ—Å–∞, –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ü–∏—Å–∞—Ç—å —Å—Ç–∞—Ç—å–∏, —Ç–µ–∫—Å—Ç—ã, —Å—Ü–µ–Ω–∞—Ä–∏–∏
- –ü–æ–º–æ–≥–∞—Ç—å —Å —Ä–µ–¥–∞–∫—Ç—É—Ä–æ–π –∏ —É–ª—É—á—à–µ–Ω–∏–µ–º —Ç–µ–∫—Å—Ç–æ–≤

**üìä –ë–∏–∑–Ω–µ—Å –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:**
- –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ø–ª–∞–Ω—ã –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä—ã–Ω–∫–∏ –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
- –ü–æ–º–æ–≥–∞—Ç—å —Å –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–º –∏ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ–º

**üéì –û–±—É—á–µ–Ω–∏–µ:**
- –û–±—ä—è—Å–Ω—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º
- –ü–æ–º–æ–≥–∞—Ç—å —Å —É—á–µ–±–æ–π –∏ –¥–æ–º–∞—à–Ω–∏–º–∏ –∑–∞–¥–∞–Ω–∏—è–º–∏
- –ì–æ—Ç–æ–≤–∏—Ç—å –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º –∏ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è–º

–ó–∞–¥–∞–≤–∞–π—Ç–µ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã ‚Äî –ø–æ—Å—Ç–∞—Ä–∞—é—Å—å –ø–æ–º–æ—á—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–ª–µ–∑–Ω–æ!"""

    if any(word in message_lower for word in ['–∫–æ–¥', '–ø—Ä–æ–≥—Ä–∞–º', 'python', 'javascript', '—Ä–∞–∑—Ä–∞–±–æ—Ç']):
        return """–û—Ç–ª–∏—á–Ω–æ, –¥–∞–≤–∞–π—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–¥–æ–º! üíª

–Ø –º–æ–≥—É –ø–æ–º–æ—á—å –≤–∞–º —Å:

**–ù–∞–ø–∏—Å–∞–Ω–∏–µ–º –∫–æ–¥–∞:**
- –°–æ–∑–¥–∞–º —Ñ—É–Ω–∫—Ü–∏–∏, –∫–ª–∞—Å—Å—ã, –º–æ–¥—É–ª–∏ —Å –Ω—É–ª—è
- –ù–∞–ø–∏—à—É –∫–æ–¥ –Ω–∞ Python, JavaScript, Java, C++, –∏ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö
- –°–ª–µ–¥—É—é best practices –∏ —á–∏—Å—Ç–æ–º—É –∫–æ–¥—É

**–û—Ç–ª–∞–¥–∫–æ–π –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º:**
- –ù–∞–π–¥—É –∏ –∏—Å–ø—Ä–∞–≤–ª—é –±–∞–≥–∏
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –£–ª—É—á—à—É —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞

**–û–±—É—á–µ–Ω–∏–µ–º:**
- –û–±—ä—è—Å–Ω—é –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü–æ–∫–∞–∂—É –ø—Ä–∏–º–µ—Ä—ã —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
- –ü–æ–º–æ–≥—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ –∞–ª–≥–æ—Ä–∏—Ç–º–∞—Ö

**–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- –í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (React, Vue, Node.js)
- Backend (Python, Django, Flask, FastAPI)
- –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (SQL, MongoDB)
- Machine Learning (TensorFlow, PyTorch)

–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É –∑–∞–¥–∞—á—É –ø–æ–¥—Ä–æ–±–Ω–µ–µ, –∏ —è —Å–æ–∑–¥–∞–º —Ä–µ—à–µ–Ω–∏–µ!"""

    if any(word in message_lower for word in ['–∫–∞–∫', '–ø–æ—á–µ–º—É', '—á—Ç–æ —Ç–∞–∫–æ–µ', '–æ–±—ä—è—Å–Ω–∏', '—Ä–∞—Å—Å–∫–∞–∂–∏']):
        return f"""–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º: "{user_message}"

**–ö—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç:**
–≠—Ç–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤–∞—à–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞. –ß—Ç–æ–±—ã –¥–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–ª–µ–∑–Ω—ã–π –∏ —Ç–æ—á–Ω—ã–π –æ—Ç–≤–µ—Ç, –º–Ω–µ –Ω—É–∂–Ω–æ –Ω–µ–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π.

**–ß—Ç–æ —è –º–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å:**
- üìö –ù–∞—É—á–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∏ —Ç–µ–æ—Ä–∏–∏
- üí° –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∫–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- üéØ –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- üîç –ü—Ä–∏—á–∏–Ω–Ω–æ-—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤—è–∑–∏
- üìä –ê–Ω–∞–ª–∏–∑ —Å–∏—Ç—É–∞—Ü–∏–π –∏ –¥–∞–Ω–Ω—ã—Ö

**–£—Ç–æ—á–Ω–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞:**
- –ö–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –∞—Å–ø–µ–∫—Ç –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ?
- –ù—É–∂–Ω–æ –ª–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏–ª–∏ –æ–±—â–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ?
- –ï—Å—Ç—å –ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–ª–∏ —Å–∏—Ç—É–∞—Ü–∏—è?

–î–æ–ø–æ–ª–Ω–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å –¥–µ—Ç–∞–ª—è–º–∏, –∏ —è –¥–∞–º —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏!"""

    return f"""–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –Ø LitvinovGPT, –∏ –≤–æ—Ç –º–æ–π –∞–Ω–∞–ª–∏–∑:

**–ü–æ —Ç–µ–º–µ "{user_message}":**

–≠—Ç–æ –º–Ω–æ–≥–æ–≥—Ä–∞–Ω–Ω–∞—è —Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è. –ß—Ç–æ–±—ã –¥–∞—Ç—å –≤–∞–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–ª–µ–∑–Ω—ã–π –æ—Ç–≤–µ—Ç, –ø–æ–∑–≤–æ–ª—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:

**üìå –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
1. –¢–µ–º–∞ —Å–≤—è–∑–∞–Ω–∞ —Å –≤–∞–∂–Ω—ã–º–∏ –∞—Å–ø–µ–∫—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
2. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ —Ä–µ—à–µ–Ω–∏—é –∏–ª–∏ –ø–æ–Ω–∏–º–∞–Ω–∏—é —ç—Ç–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
3. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–∞—à–∏—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ü–µ–ª–µ–π

**üí° –ú–æ–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –£—Ç–æ—á–Ω–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∞—Å–ø–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–∞—Å –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç
- –û–ø–∏—à–∏—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç ‚Äî –¥–ª—è —Ä–∞–±–æ—Ç—ã, —É—á—ë–±—ã, –ª–∏—á–Ω—ã—Ö —Ü–µ–ª–µ–π?
- –£–∫–∞–∂–∏—Ç–µ, –Ω—É–∂–µ–Ω –ª–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–ª–∏ –æ–±—â–∏–π –æ—Ç–≤–µ—Ç

**üéØ –ß—Ç–æ —è –º–æ–≥—É –¥–ª—è –≤–∞—Å —Å–¥–µ–ª–∞—Ç—å:**
- –î–∞—Ç—å —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥ –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

–ó–∞–¥–∞–π—Ç–µ —É—Ç–æ—á–Ω—è—é—â–∏–π –≤–æ–ø—Ä–æ—Å, –∏ —è –¥–∞–º –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç!"""
